import{C as u,r as d,d as p,a as c,e as _,w as g,f as m,g as o,i as y,h,t as f,z as v,A as $,B as k,o as S,c as l,D as x,E as A,F as B,l as b,m as C,b as D}from"./index.a97e0d74.js";const V={alt:"",class:"main__content-img"},w={class:"main__content-name"},U={__name:"SearchContent",props:{item:Object},setup(t){const e=t,a=u(()=>e.item.media_type=="movie"?"movie":"tv");return(s,n)=>{const i=d("router-link"),r=p("lazy");return c(),_(i,{to:`/${o(a)}/${t.item.id}`,class:"main__content-item"},{default:g(()=>[m(h("img",V,null,512),[[r,o(y)+t.item.backdrop_path]]),h("h2",w,f(t.item.title||t.item.name),1)]),_:1},8,["to"])}}},z=v({id:"searching",state:()=>({url:"https://api.themoviedb.org/3/search/multi",searchArray:null,search:""}),actions:{async getSearch(t=1){if(this.search)try{const s=(await $.get(`${this.url}?api_key=${k}&language=ru-RU&page=${t}&query=${this.search}&include_adult=false`)).data.results.filter(n=>n.backdrop_path!=null);this.searchArray=s}catch(e){console.log("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043F\u0440\u0438  \u043F\u043E\u0438\u0441\u043A\u0435",e)}else this.searchArray=null}}}),N={class:"container"},E={class:"main__search"},F=["placeholder"],P={key:0,class:"main__content-list"},R={__name:"SearchInput",props:{placeholder:String},setup(t){const e=z(),a=u(()=>e.searchArray),s=u({get:()=>e.search,set:n=>{e.search=n,e.getSearch()}});return S(()=>{e.searchArray=null,e.search=""}),(n,i)=>(c(),l("div",N,[h("div",E,[m(h("input",{type:"text",class:"main__search-input",placeholder:t.placeholder,"onUpdate:modelValue":i[0]||(i[0]=r=>A(s)?s.value=r:null),autofocus:""},null,8,F),[[x,o(s)]]),o(a)?(c(),l("div",P,[(c(!0),l(B,null,b(o(a),r=>(c(),_(U,{key:r.id,item:r},null,8,["item"]))),128))])):C("",!0)])]))}},T={class:"main"},q={__name:"SearchPage",setup(t){return(e,a)=>(c(),l("main",T,[D(R,{placeholder:"\u041D\u0430\u0439\u0442\u0438 \u0444\u0438\u043B\u044C\u043C, \u0441\u0435\u0440\u0438\u0430\u043B..."})]))}};export{q as default};
