import{r as g,d as f,a as n,e as m,w,f as k,g as a,i as C,h as o,t as y,u as B,j as r,k as $,o as x,c as u,F as h,l as b,m as v,L as D}from"./index.a97e0d74.js";const L={alt:"",class:"main__content-img"},S={class:"main__content-name"},j={__name:"ContentItem",props:{type:String,item:Object},setup(e){return(c,s)=>{const i=g("router-link"),t=f("lazy");return n(),m(i,{to:`${e.type}/${e.item.id}`,class:"main__content-item"},{default:w(()=>[k(o("img",L,null,512),[[t,a(C)+e.item.backdrop_path]]),o("h2",S,y(e.item.title||e.item.name),1)]),_:1},8,["to"])}}},z={key:0,class:"container"},F={class:"main__content"},H={class:"main__content-title"},M={class:"main__content-list"},U={__name:"Content",props:{type:String},setup(e){const c=e,s=B();let i=r(1),t=r(!1),l=r([]);const _=async()=>{if(!t.value){t.value=!0,await s.getPopular({type:c.type,page:i.value});let d=c.type=="movie"?s.popularMovies:s.popularTvs;l.value.push(...d),t.value=!1,i.value++}};return $(()=>{window.onscroll=function(){window.scrollY+window.innerHeight>=document.body.scrollHeight&&_()},_()}),x(()=>{window.onscroll=null}),(d,N)=>(n(),u(h,null,[a(l).length>0?(n(),u("div",z,[o("div",F,[o("h2",H,y(e.type=="movie"?"\u0412\u0441\u0435 \u0444\u0438\u043B\u044C\u043C\u044B":"\u0412\u0441\u0435 \u0441\u0435\u0440\u0438\u0430\u043B\u044B"),1),o("div",M,[(n(!0),u(h,null,b(a(l),p=>(n(),m(j,{key:p.id,item:p,type:e.type},null,8,["item","type"]))),128))])])])):v("",!0),a(t)||a(l).length==0?(n(),m(D,{key:1})):v("",!0)],64))}};export{U as _};
